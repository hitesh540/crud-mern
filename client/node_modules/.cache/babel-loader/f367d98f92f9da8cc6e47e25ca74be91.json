{"ast":null,"code":"var _jsxFileName = \"/home/admin-pc/Desktop/crud-app/crud-mern/client/src/components/Form/Form.jsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport Store from '../../store/store';\nimport { ADD_TO_LIST, UPDATE_LIST } from '../../store/actionTypes';\nimport { listService } from '../../services/listService';\nimport style from './Form.module.scss';\nconst INITIAL_LIST = {\n  name: '',\n  text: '',\n  number: '',\n  email: ''\n};\n\nconst Form = _ref => {\n  let {\n    closeForm,\n    edit,\n    clearEdit\n  } = _ref;\n  const {\n    dispatch\n  } = useContext(Store);\n  const [form, setForm] = useState(INITIAL_LIST);\n  useEffect(() => {\n    if (edit) {\n      setForm(edit);\n    }\n  }, [edit]);\n\n  const onFormChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const clearForm = () => {\n    setForm(INITIAL_LIST);\n    closeForm();\n  };\n\n  const formSubmit = async () => {\n    if (edit) {\n      const newItem = await listService.updateList(form);\n      dispatch({\n        type: UPDATE_LIST,\n        payload: newItem\n      });\n      clearForm();\n      clearEdit();\n      return;\n    }\n\n    const newItem = await listService.addToList(form);\n    dispatch({\n      type: ADD_TO_LIST,\n      payload: newItem\n    });\n    clearForm();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: style.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter Company name\",\n    value: form.name,\n    onChange: onFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    name: \"text\",\n    rows: \"4\",\n    placeholder: \"Enter Description\",\n    value: form.text,\n    onChange: onFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"number\",\n    placeholder: \"Enter number\",\n    value: form.number,\n    onChange: onFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Enter email\",\n    value: form.email,\n    onChange: onFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: formSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Submit\"));\n};\n\nexport default Form;","map":{"version":3,"sources":["/home/admin-pc/Desktop/crud-app/crud-mern/client/src/components/Form/Form.jsx"],"names":["React","useContext","useEffect","useState","Store","ADD_TO_LIST","UPDATE_LIST","listService","style","INITIAL_LIST","name","text","number","email","Form","closeForm","edit","clearEdit","dispatch","form","setForm","onFormChange","e","value","target","prevState","clearForm","formSubmit","newItem","updateList","type","payload","addToList"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\n\nimport Store from '../../store/store';\nimport { ADD_TO_LIST, UPDATE_LIST } from '../../store/actionTypes';\n\nimport { listService } from '../../services/listService';\n\nimport style from './Form.module.scss';\n\nconst INITIAL_LIST = {\n  name: '',\n  text: '',\n  number: '',\n  email: ''\n}\n\nconst Form = ({ closeForm, edit, clearEdit }) => {\n  const { dispatch } = useContext(Store);\n  const [form, setForm] = useState(INITIAL_LIST);\n\n  useEffect(() => {\n    if (edit) {\n      setForm(edit);\n    }\n  }, [edit])\n\n\n  const onFormChange = e => {\n    const { name, value } = e.target;\n    setForm((prevState) => ({ ...prevState, [name]: value }));\n  }\n\n  const clearForm = () => {\n    setForm(INITIAL_LIST);\n    closeForm();\n  }\n\n  const formSubmit = async () => {\n    if (edit) {\n      const newItem = await listService.updateList(form);\n      dispatch({\n        type: UPDATE_LIST,\n        payload: newItem\n      })\n      clearForm();\n      clearEdit();\n      return;\n    }\n\n    const newItem = await listService.addToList(form);\n    dispatch({\n      type: ADD_TO_LIST,\n      payload: newItem\n    })\n    clearForm();\n  }\n\n  return (\n    <div className={style.form}>\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Enter Company name\"\n        value={form.name}\n        onChange={onFormChange}\n      />\n      <textarea\n        type=\"text\"\n        name=\"text\"\n        rows=\"4\"\n        placeholder=\"Enter Description\"\n        value={form.text}\n        onChange={onFormChange}\n      />\n      <input\n        type=\"text\"\n        name=\"number\"\n        placeholder=\"Enter number\"\n        value={form.number}\n        onChange={onFormChange}\n      />\n      <input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Enter email\"\n        value={form.email}\n        onChange={onFormChange}\n      />\n      <button onClick={formSubmit}>Submit</button>\n    </div>\n  )\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}